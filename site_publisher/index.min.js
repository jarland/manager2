define(["angular","cjt/core","cjt/modules","ngRoute","uiBootstrap"],function(angular,CJT){return function(){angular.module("App",["ngRoute","ui.bootstrap","angular-growl","cjt2.cpanel"]);var app=require(["cjt/bootstrap","uiBootstrap","cjt/views/applicationController","app/views/publishController"],function(BOOTSTRAP){var app=angular.module("App");app.firstLoad={publish:true};app.value("PAGE",CPANEL.PAGE);app.controller("BaseController",["$rootScope","$scope","$route","$location",function($rootScope,$scope,$route,$location){$scope.loading=false;$rootScope.$on("$routeChangeStart",function(){$scope.loading=true});$rootScope.$on("$routeChangeSuccess",function(){$scope.loading=false});$rootScope.$on("$routeChangeError",function(){$scope.loading=false});$scope.current_route_matches=function(key){return $location.path().match(key)};$scope.go=function(path){$location.path(path)}}]);app.config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$routeProvider.when("/publish",{controller:"publishController",templateUrl:CJT.buildFullPath("site_publisher/views/publishView.html.tt"),resolve:{}});$routeProvider.otherwise({redirectTo:"/publish"})}]);BOOTSTRAP("#content","App")});return app}});